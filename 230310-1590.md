# 题目

![](pics/230310-1590/img-2023-03-10-12-19-15.png)

# 思路

1. 滑动窗口，问题是标准如何选取

如果窗口内的数的和对p取余==要减去的数，那么没问题，

如果小于，可以左边界右移，也可以右边界右移，无法确定下来

2. 动态规划

计算每一个元素作为起点的，符合要求的最小的长度

下一个元素的这个结果和上一个有关，减去上一个元素，

但是他也可以选择从上一个元素的终点左移或者右移，无法确定下来

3. 数学定理

![](pics/230310-1590/img-2023-03-10-12-43-39.png)

假设余数为x

前i个元素的前缀和为fi

那么（fi - fj） mod p = x ,等价于

fj mod p = (fi - x) mod p

使用哈希表记录fj mod p的结果

然后对于每个fi计算fi - x，找到对应的fj mod p的最大位置

**为了防止累加超过界限，可以每次加完一个元素都取余**

一些模运算的公式需要了解
 