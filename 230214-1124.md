# 题目

![](pics/230214-1124/img-2023-02-14-10-20-05.png)

# 思路

 [前缀和](./algs/%E5%89%8D%E7%BC%80%E5%92%8C%EF%BC%88%E5%90%8E%E7%BC%80%E5%92%8C%EF%BC%89.md)

计算前缀和。这里的前缀和计算的时候，加的是每个元素的判断结果（1/-1），这样，将子数组条件，变成，子数组和大于0，容易判断

具体操作如下

计算前i项的前缀和s[i], 如果其大于0，说明是好日子序列，长度i+1为候选结果

如果其小于0，那么查看，是否存在前缀和s[j],j小于i，并且，s【j】的值正好比s[i]小1

为什么要找s[j] = s[i] - 1,而不是-2 ？？？

**很简单，s[j]-2是在s[j]-1的基础上变化得到的，由于每次加的元素只有1/-1，所以不可能先出现s[j]-2，再出现s[j]-1，s[j]-1一定先s[j]-2出现！！**

使用hashmap记录每个前缀和出现的最早时间