# 题目

![](pics/230325-1547/img-2023-03-25-15-36-33.png)

# 思路

如果不是**一个**子数组，那么就是动态规划问题

记录以每个元素结尾时，是前面数组有序要删除的最大个数

每个元素有删除/不删除两种状态

如果是一个子数组，那就双指针

分贝指向删除数组的头和尾

将数组分为三段，前，中，后，中间是要删除的

如果中间释放的元素，小于等于后端第一个元素，大于等于前的最后一个元素，就移动指针

如果两个指针都不能移动了，说明已经最优，

这样移动不行，应该加上贪心，移动后，后端第一个元素的值的变化令最小

官方解法：

首先，找到让后端全部非降序的一个尾指针；

初始化一个res：把尾指针前面的东西都删了

然后遍历确定头指针：针对每个头指针，修改尾指针，使删除后的结果符合非降序

当头指针下一个元素小于当前元素，就不再遍历